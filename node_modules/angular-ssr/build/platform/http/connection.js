Object.defineProperty(exports, "__esModule", { value: true });
var http_1 = require("@angular/http");
var uri_1 = require("./uri");
var task_1 = require("./../zone/task");
var HttpConnection = (function () {
    function HttpConnection(request, backend) {
        var _this = this;
        this.request = request;
        Object.assign(request, { url: uri_1.adjustUri(request.url) });
        this.response = task_1.scheduleTask(function () {
            _this.connection = backend.createConnection(_this.request);
            return _this.connection.response;
        });
    }
    Object.defineProperty(HttpConnection.prototype, "readyState", {
        get: function () {
            return this.connection ? this.connection.readyState : http_1.ReadyState.Unsent;
        },
        enumerable: true,
        configurable: true
    });
    return HttpConnection;
}());
exports.HttpConnection = HttpConnection;
//# sourceMappingURL=connection.js.map
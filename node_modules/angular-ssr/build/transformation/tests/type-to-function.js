Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var type_to_function_1 = require("../type-to-function");
describe('typeToInjectorFunction', function () {
    it('instantiates a class decorated with @Injectable()', function () {
        var InjectableClass = (function () {
            function InjectableClass() {
            }
            InjectableClass.prototype.foo = function () {
                return 1;
            };
            return InjectableClass;
        }());
        InjectableClass.decorators = [
            { type: core_1.Injectable },
        ];
        /** @nocollapse */
        InjectableClass.ctorParameters = function () { return []; };
        var fn = type_to_function_1.typeToInjectorFunction(InjectableClass, function (c) { return c.foo(); });
        expect(typeof fn).toBe('function');
        expect(fn.length).toBe(1);
        var executed = fn(null);
        expect(executed).toBe(1);
    });
    it('does not convert functions that are not @Injectable()', function () {
        var fn = type_to_function_1.typeToInjectorFunction(function (injector) { return 1; }, function (c) { throw new Error(); });
        expect(typeof fn).toBe('function');
        expect(fn(null)).toBe(1);
    });
});
//# sourceMappingURL=type-to-function.js.map